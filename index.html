<!doctype html>
<html>
    <head>
            <title>Project Shapeoko</title>
            <link href="shapeoko.css" rel="stylesheet" />
            <link href="slimbox.css" rel="stylesheet" />
            <link href='http://fonts.googleapis.com/css?family=Ubuntu:300,400,700' rel='stylesheet' type='text/css'>
            <script src="js/markdown.js"></script>
            <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
            <script src="js/slimbox2.js"></script>

    </head>
    <body>
    
    <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-11630357-11']);
            _gaq.push(['_setDomainName', 'shapeoko.com']);
            _gaq.push(['_trackPageview']);

            (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
    </script>

    <div class="header">

        <div class="left">
          <a href="http://docs.shapeoko.com"><span class="toplink">Shapeoko 2</span></a>
        </div>
        <div class="right">
          <ul>

          </ul>                    
        </div>
    </div>
    
    <div id="wrapper">
            <nav>        
                    <dl>
                            <dt><a href='index.html'>Welcome!</a></dt>
                            <dt><a href='tips.html'>Pro Tips!</a></dt>
                            <dt><a href='software.html'>Software</a></dt>
                            <dt><a href='electronics.html'>Electronics</a></dt>
                            <dt><a href='wheels.html'>Wheels + Idlers</a></dt>
                            <dt><a href='carriages.html'>Carriages</a></dt>
                            <dt><a href='zaxis.html'>Z-Axis</a></dt>
                            <dt><a href='gantry.html'>Gantry</a></dt>
                            <dt><a href='yaxis.html'>Y-Axis</a></dt>
                            <dt><a href='workarea.html'>Work Area</a></dt>
                            <dt><a href='wiring.html'>Electrical Wiring</a></dt>
                            <dt><a href='helloworld.html'>Hello, World</a></dt>
                            <dt><a href='firstjob.html'>First Job</a></dt>
                    </dl>
            </nav>
            
            <div id="contentWrapper">
                <article id="content">
                    <!--This is where the content gets rendered-->
                </article>
            </div><!--end contentWrapper-->
        </div><!--end wrapper-->

    <!--This is the script that loads the appropriate .md file-->
    <script type="text/javascript">
        $(document).ready(function(){
            $.ajax({
              url:"content/index.md",
              dataType: "text",
              success: function(response){
                  $("#content").append(markdown.toHTML(response));

                  // now that the images exist in the dom, lightbox them!
                  lightboxImages()
                }
            });

            //rename the page
            document.title = 'Shapeoko 2 Documentation';

        });

        function lightboxImages(){
          // Wrap each image in a link
          $("img").each(function(){
            var src = $(this).attr('src');

            // TODO: change the src to the original big image
            // var src = src.replace....

            // then wrap the image with a link to activate the lightbox
            $(this).wrap("<a href='"+src+"' rel='lightbox'></a>")
          });

          // Because these elements were all added after dom ready
          // we need to explicitly tell slimbox to 
          // listen to the new links
          $("a[rel=lightbox]").slimbox()
        }

    </script>
</body>
</html> 